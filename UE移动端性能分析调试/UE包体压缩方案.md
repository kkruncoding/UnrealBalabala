# 禁用未使用插件

```json
		{
			"Name": "OpenXREyeTracker",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Win32",
				"Win64",
				"Linux",
				"HoloLens",
				"Android"
			]
		},
		{
			"Name": "OpenXRHandTracking",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Win32",
				"Win64",
				"Linux",
				"HoloLens",
				"Android"
			]
		},
		{
			"Name": "OpenXR",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Win32",
				"Win64",
				"Linux",
				"Android",
				"HoloLens"
			]
		},
		{
			"Name": "SpeedTreeImporter",
			"Enabled": false
		},
		{
			"Name": "AlembicImporter",
			"Enabled": false
		},
		{
			"Name": "ActorSequence",
			"Enabled": false
		},
		{
			"Name": "EnvironmentQueryEditor",
			"Enabled": false
		},
		{
			"Name": "AISupport",
			"Enabled": false
		},
		{
			"Name": "AppleImageUtils",
			"Enabled": false
		},
		{
			"Name": "AndroidDeviceProfileSelector",
			"Enabled": false
		},
		{
			"Name": "AndroidMedia",
			"Enabled": false
		},
		{
			"Name": "AndroidMoviePlayer",
			"Enabled": false
		},
		{
			"Name": "OnlineSubsystemGooglePlay",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Android"
			]
		},
		{
			"Name": "AnimationSharing",
			"Enabled": false
		},
		{
			"Name": "AppleMoviePlayer",
			"Enabled": false
		},
		{
			"Name": "ArchVisCharacter",
			"Enabled": false
		},
		{
			"Name": "MaterialAnalyzer",
			"Enabled": false
		},
		{
			"Name": "AudioCapture",
			"Enabled": false
		},
		{
			"Name": "AssetTags",
			"Enabled": false
		},
		{
			"Name": "Synthesis",
			"Enabled": false
		},
		{
			"Name": "AvfMedia",
			"Enabled": false
		},
		{
			"Name": "AutomationUtils",
			"Enabled": false
		},
		{
			"Name": "BackChannel",
			"Enabled": false
		},
		{
			"Name": "CableComponent",
			"Enabled": false
		},
		{
			"Name": "CameraShakePreviewer",
			"Enabled": false
		},
		{
			"Name": "CharacterAI",
			"Enabled": false
		},
		{
			"Name": "FacialAnimation",
			"Enabled": false
		},
		{
			"Name": "WmfMedia",
			"Enabled": false
		},
		{
			"Name": "XCodeSourceCodeAccess",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Mac"
			]
		},
		{
			"Name": "WindowsMoviePlayer",
			"Enabled": false
		},
		{
			"Name": "WebMMoviePlayer",
			"Enabled": false
		},
		{
			"Name": "GooglePAD",
			"Enabled": false
		},
		{
			"Name": "MediaCompositing",
			"Enabled": false
		},
		{
			"Name": "ImgMedia",
			"Enabled": false
		},
		{
			"Name": "IOSDeviceProfileSelector",
			"Enabled": false
		},
		{
			"Name": "KDevelopSourceCodeAccess",
			"Enabled": false
		},
		{
			"Name": "GameplayCameras",
			"Enabled": false
		},
		{
			"Name": "MatineeToLevelSequence",
			"Enabled": false
		},
		{
			"Name": "LevelSequenceEditor",
			"Enabled": false
		},
		{
			"Name": "ChunkDownloader",
			"Enabled": false
		},
		{
			"Name": "CLionSourceCodeAccess",
			"Enabled": false
		},
		{
			"Name": "CodeLiteSourceCodeAccess",
			"Enabled": false
		},
		{
			"Name": "DatasmithContent",
			"Enabled": false
		},
		{
			"Name": "GeometryCache",
			"Enabled": false
		},
		{
			"Name": "MeshPainting",
			"Enabled": false
		},
		{
			"Name": "ChaosEditor",
			"Enabled": false
		},
		{
			"Name": "GeometryMode",
			"Enabled": false
		},
		{
			"Name": "MacGraphicsSwitching",
			"Enabled": false
		},
		{
			"Name": "OnlineSubsystemIOS",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"IOS",
				"TVOS"
			]
		},
		{
			"Name": "Paper2D",
			"Enabled": false
		},
		{
			"Name": "PhysXVehicles",
			"Enabled": false
		},
		{
			"Name": "SteamVR",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Win32",
				"Win64",
				"Linux"
			]
		},
		{
			"Name": "MagicLeapMedia",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Lumin"
			]
		},
		{
			"Name": "MagicLeap",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Lumin",
				"Mac",
				"Win64"
			]
		},
		{
			"Name": "MagicLeapPassableWorld",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Lumin",
				"Mac",
				"Win64"
			]
		},
		{
			"Name": "LuminPlatformFeatures",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Lumin"
			]
		},
		{
			"Name": "MLSDK",
			"Enabled": false
		},
		{
			"Name": "MotoSynth",
			"Enabled": false
		},
		{
			"Name": "OnlineSubsystemNull",
			"Enabled": false
		},
		{
			"Name": "OnlineSubsystemUtils",
			"Enabled": false
		},
		{
			"Name": "OnlineSubsystem",
			"Enabled": false
		},
		{
			"Name": "CryptoKeys",
			"Enabled": false
		},
		{
			"Name": "CurveEditorTools",
			"Enabled": false
		},
		{
			"Name": "CustomMeshComponent",
			"Enabled": false
		},
		{
			"Name": "PostSplashScreen",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"XboxOne"
			]
		},
		{
			"Name": "DataValidation",
			"Enabled": false
		},
		{
			"Name": "EditableMesh",
			"Enabled": false
		},
		{
			"Name": "MobileLauncherProfileWizard",
			"Enabled": false
		},
		{
			"Name": "XGEController",
			"Enabled": false
		},
		{
			"Name": "VisualStudioCodeSourceCodeAccess",
			"Enabled": true
		},
		{
			"Name": "VisualStudioSourceCodeAccess",
			"Enabled": true
		},
		{
			"Name": "ExampleDeviceProfileSelector",
			"Enabled": false
		},
		{
			"Name": "GameplayTagsEditor",
			"Enabled": false
		},
		{
			"Name": "GoogleCloudMessaging",
			"Enabled": false
		},
		{
			"Name": "LauncherChunkInstaller",
			"Enabled": false
		},
		{
			"Name": "NullSourceCodeAccess",
			"Enabled": false
		},
		{
			"Name": "LinuxDeviceProfileSelector",
			"Enabled": false
		},
		{
			"Name": "MediaPlayerEditor",
			"Enabled": false
		},
		{
			"Name": "LocationServicesBPLibrary",
			"Enabled": false
		},
		{
			"Name": "MobilePatchingUtils",
			"Enabled": false
		},
		{
			"Name": "OpenImageDenoise",
			"Enabled": false
		},
		{
			"Name": "PixWinPlugin",
			"Enabled": false,
			"SupportedTargetPlatforms": [
				"Win64"
			]
		},
		{
			"Name": "PlasticSourceControl",
			"Enabled": false
		},
		{
			"Name": "PlatformCrypto",
			"Enabled": false
		},
		{
			"Name": "ProxyLODPlugin",
			"Enabled": false
		},
		{
			"Name": "PropertyAccessNode",
			"Enabled": false
		},
		{
			"Name": "PropertyAccessEditor",
			"Enabled": false
		},
		{
			"Name": "RuntimePhysXCooking",
			"Enabled": false
		},
		{
			"Name": "SkeletalReduction",
			"Enabled": false
		},
		{
			"Name": "SoundFields",
			"Enabled": false
		},
		{
			"Name": "SubversionSourceControl",
			"Enabled": false
		},
		{
			"Name": "TcpMessaging",
			"Enabled": false
		},
		{
			"Name": "UdpMessaging",
			"Enabled": false
		},
		{
			"Name": "UObjectPlugin",
			"Enabled": false
		},
		{
			"Name": "VariantManagerContent",
			"Enabled": false
		},
		{
			"Name": "LightPropagationVolume",
			"Enabled": false
		},
		{
			"Name": "ChaosNiagara",
			"Enabled": false
		},
		{
			"Name": "ChaosClothEditor",
			"Enabled": false
		},
		{
			"Name": "ChaosCloth",
			"Enabled": false
		},
		{
			"Name": "ChaosSolverPlugin",
			"Enabled": false
		},
		{
			"Name": "PerforceSourceControl",
			"Enabled": false
		},
		{
			"Name": "GitSourceControl",
			"Enabled": false
		}
```

​		{
​			"Name": "SoundVisualizations",
​			"Enabled": true
​		}

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240513171045528.png" alt="image-20240513171045528" style="zoom:50%;" />禁用Asset Manager Editor会导致Reference Viewer无法使用

# 创建压缩的已烘焙包

查找标签为 **创建压缩的已烘焙包（Create compressed cooked packages）**的选项，并将其启用（如果尚未启用）。

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240513160919887.png" alt="image-20240513160919887" style="zoom:50%;" />

如果您未曾在启用“创建压缩的已烘焙包”（Create compressed cooked packages）复选框的情况下打包游戏，那么在启用此选项的情况下重新打包项目后，您应该会看到显著的大小差异。 实际上，启用“创建压缩的已烘焙包”（Create compressed cooked packages）后，项目 APK 包大小下降 50% 并不罕见。



# 烘焙时排除编辑器内容

如果有编辑器内容被使用，可能导致烘焙游戏中缺失内容的问题

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240513173701230.png" alt="image-20240513173701230"  />

针对NS SR Demo项目打包后包体大小：

勾选前：201,489KB

勾选后：200,622KB

![image-20240513174052128](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240513174052128.png)

# 共享材质着色器代码、材质本地库

能够减少包体大小，但是会增加启动时间

![image-20240514140147258](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240514140147258.png)



# 配置去除部分引擎内容

DefaultEngine.ini 配置： 

```ini
[/Script/Engine.Engine]

DefaultBloomKernelTextureName= 
BlueNoiseTextureName=
```

1.如果没有用到PostProcessVolumn - Lens - Bloom - Method（Convolution）的话，可以在DefaultEngine.ini 中添加DefaultBloomKernelTextureName= 排除默认引擎贴图（DefaultBloomKernel.uasset）==就算在ProjectSettings中勾选了Exclude editor content when cooking，这张帖图也会出现在打包中==

![image-20240515170817367](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240515170817367.png)

2.BlueNoise.uasset同理（暂时不知道作用）

针对NS SR Demo项目打包后包体大小：

去除前：169,587KB

去除后：166,953KB

# 去除PrerequisitesInstaller勾选

对于PC端，Steam等平台发布的话需要勾选此项，此项勾选与否对于移动端没有影响

![image-20240515174615212](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240515174615212.png)

# 改为Shipping打包

把Full Rebuilded和For Distribution勾选上

![image-20240515174847942](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240515174847942.png)

# 开启Oodle相关插件

Oodle相关插件有助于打包时压缩包体

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240516101938316.png" alt="image-20240516101938316" style="zoom:50%;" />

针对NS SR Demo项目打包后包体大小：

前：167,820KB

后：157,825KB

# [裁剪不必要的引擎模块](https://ue5wiki.com/wiki/10845/)

可以根据项目需求可以裁剪以下的引擎模块支持，降低编译的可执行文件、包体大小：

### APEX

如果不适用 Nvidia 的 APEX 破碎系统，可以在编译引擎时去掉 APEX 的支持。

可以在 BuildSetting 或者 TargetRules 设置`bCompileAPEX=true`。

### Recast(NavMesh)

如果客户端在运行时不需要 Recast 的支持，并且不需要客户端本地进行 NavMesh 寻路操作，可以运行时裁剪掉 NavMesh 的支持。
可以在 BuildSetting 或者 TargetRules 设置`bCompileRecast=true`。

### FreeType

是否需要 FreeType 字库支持，可以在 BuildSetting 或者 TargetRules 设置`bCompileFreeType=true`。

### ICU(unicode/i18n)

引擎 Core 模块中对 unicode/i18n 的支持，可以在 BuildSetting 或者 TargetRules 设置`bCompileICU=true`。

### CompileForSize

UE 提供的优化选项，可以控制编译时严格控制大小，但是会牺牲性能。
可以在 BuildSetting 或者 TargetRules 设置`bCompileForSize=true`。

### CEF3

可选是否支持 `Chromium Embedded Framework`，Google 的嵌入式浏览器支持。
可以在 BuildSetting 或者 TargetRules 设置`bCompileCEF3=true`。

### Audio 模块

因为项目使用 WWise 作为音频播放接口，如果完全不需要引擎中内置的 Audio 模块，该部分功能是冗余的，在后续的优化中可以裁剪掉。

### 国际化模块

如果游戏的多语言支持不依赖 UE 的文本采集和翻译功能，可以裁剪掉该模块。

### Steam

游戏不需要 Steam 的支持，可以去掉，在 TargetRules 中通过 `bUsesSteam` 控制。

### SpeedTree

如果游戏中不需要使用 SpeedTree 进行植被建模，可以关闭编译 SpeedTree，通过 TargetRules 中的 `bOverrideCompileSpeedTree` 控制。
